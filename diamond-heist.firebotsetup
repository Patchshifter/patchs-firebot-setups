{"name":"Diamond Heist","description":"# Diamond Heist\n\nDiamond Heist is a mini-game I created for my channel that pits chat vs the mods/VIPs for a chance to get a Diamond (VIP badge)!\n\nWhen the effect is run it basically checks if the user is a mod/vip, or if they are the current holder of the diamond, or if the diamond is in the vault, and makes decisions accordingly.\n\nFirebot will automatically handle the actions of making / unmaking VIPs for the game.\n\n## What it Adds\n* Commands: `!diamond` will respond with what user has the diamond, if any.\n* Preset Effect Lists: `Diamond Heist` is the main \"meat\" of the set up, this is what handles all the work.\n* Viewer Roles: `Diamond Exceptions` is a viewer role to use for users who are exempt from getting their VIP taken away, aka your \"real\" VIPs.  Put all your VIPs in this group, otherwise if they redeem it, their actual VIP badge will be taken away.\n\n## Usage\n\nThis was intended to be a channel reward, but in theory you can have it in a command too, but the idea is the same.\n\nCreate a channel reward in Firebot and add an Effect to \"Run Effect List\" and choose the Diamond Heist Preset Effect List\n\n## Caveats\n\nThere are some quirks with this to keep in mind:\n* You have to de-VIP who has the Diamond (if any) when you end stream, otherwise that person will be a VIP and the game kind of messes up\n* If you want to avoid the above you can go to Settings -> Advanced -> Persist Custom Variables -> On.  If this is set Firebot will save the person between stream sessions. \n\n## Customizing\n\nIf you want to customize any of the responses you can go into the Preset Effect Lists tab and edit the Diamond Heist list.\n\nEdit the \"Conditional Effects\" effect in the Diamond Heist and we can start drilling down into what we can change.  All of the text responses are in \"Run Random Effects\" in the effects here.\n\nFor example, if you wanted to change what it says when a mod takes the diamond back, you would follow these steps:\n\nDiamond Heist Preset Effect List > Edit Conditional Effects > If (Moderator / Real VIP Exclusion) -> Edit Conditional Effects -> Otherwise -> Edit Run Random Effect -> Chat effects\n\nAll of those chat effects can be changed / removed or added to.\n\nThere are a bunch of places to edit them, so dig around those conditional effects and check them out!","version":1,"author":"patchshifter","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldown":{"global":120,"user":20},"effects":{"id":"eac4ed5c-593a-454c-b886-2dd1174e88c8","list":[{"id":"17a206b0-102d-11ec-8d42-7f468b80eb61","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[prevUser]","rightSideValue":"null"}]},"effectData":{"list":[{"id":"2565e410-102d-11ec-8d42-7f468b80eb61","type":"firebot:chat","chatter":"Bot","message":"The diamond is in the vault!  Steal it if you can, or protect it if you're a mod!"}],"id":"17a70fc0-102d-11ec-8d42-7f468b80eb61"}}],"otherwiseEffectData":{"list":[{"id":"41dd2ef0-102d-11ec-8d42-7f468b80eb61","type":"firebot:chat","chatter":"Bot","message":"$customVariable[prevUser] has the diamond at the moment!  Steal it from them, or return it to the vault if you're a mod!"}],"id":"17a513f0-102d-11ec-8d42-7f468b80eb61"}}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true},"ignoreBot":true,"trigger":"!diamond","id":"6f6ba0e0-102d-11ec-8d42-7f468b80eb61","createdBy":"patchshifter","createdAt":"2021-09-07T18:46:27-04:00","count":5,"lastEditBy":"patchshifter","lastEditAt":"2022-01-17T23:22:03-05:00","sortTags":[]}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"Diamond Heist","effects":{"list":[{"id":"c645dbb0-7c8e-11ec-b4a5-a918f59f6eb6","ifs":[{"conditionData":{"conditions":[{"comparisonType":"has role","leftSideValue":"$user","rightSideValue":"mod","type":"firebot:viewerroles","value":null},{"type":"firebot:viewerroles","comparisonType":"has role","value":null,"rightSideValue":"8ffe7550-7c87-11ec-b4a5-a918f59f6eb6","leftSideValue":"$user"}],"mode":"inclusive"},"effectData":{"id":"cd6dc100-0dd5-11ec-8402-07dbdeaf1b7d","list":[{"id":"e327c3b0-0ebb-11ec-b4c7-874fb00803f4","ifs":[{"conditionData":{"conditions":[{"comparisonType":"is","leftSideValue":"$customVariable[prevUser]","rightSideValue":"null","type":"firebot:custom","value":null}],"mode":"exclusive"},"effectData":{"id":"e32ec890-0ebb-11ec-b4c7-874fb00803f4","list":[{"dontRepeat":true,"effectList":{"id":"161d7f00-102c-11ec-8d42-7f468b80eb61","list":[{"chatter":"Bot","id":"1a3af680-102c-11ec-8d42-7f468b80eb61","message":"$user does a perimeter sweet and notices nothing out of the ordinary.  For now, the diamond is still secure.","type":"firebot:chat"},{"chatter":"Bot","id":"1ec894f0-102c-11ec-8d42-7f468b80eb61","message":"New security measures implemented by $user are proving effective at keeping the diamond safe.","type":"firebot:chat"},{"chatter":"Bot","id":"234fcac0-102c-11ec-8d42-7f468b80eb61","message":"That's strange, there's a hole in the fence around the diamond vault!  $user fixes it immediately.","type":"firebot:chat"},{"chatter":"Bot","id":"2873dcd0-102c-11ec-8d42-7f468b80eb61","message":"It's quiet.... too quiet....  $user calls in some extra security to protect the diamond.","type":"firebot:chat"}]},"id":"161abfe0-102c-11ec-8d42-7f468b80eb61","type":"firebot:randomeffect"}]},"label":"diamond still in vault"}],"otherwiseEffectData":{"id":"e32c5790-0ebb-11ec-b4c7-874fb00803f4","list":[{"dontRepeat":true,"effectList":{"id":"3e6a44c0-102c-11ec-8d42-7f468b80eb61","list":[{"chatter":"Bot","id":"406f1570-102c-11ec-8d42-7f468b80eb61","message":"$user notices $customVariable[prevUser] with the diamond and goes on an epic chase!  $user secured the diamond!","type":"firebot:chat"},{"chatter":"Bot","id":"5fb7f6e0-102c-11ec-8d42-7f468b80eb61","message":"$user hired Detective Pikachu and together they recovered the diamond from $customVariable[prevUser].  It's super effective!","type":"firebot:chat"},{"chatter":"Bot","id":"6c0c8cd0-102c-11ec-8d42-7f468b80eb61","message":"$customVariable[prevUser] was bragging about their diamond heist on Twitter, so $user was able to easily track it down and get it back.","type":"firebot:chat"},{"chatter":"Bot","id":"74febde0-102c-11ec-8d42-7f468b80eb61","message":"After some investigation $user called in reinforcements, surrounded $customVariable[prevUser]'s house, and was able to move the diamond safely back to the vault.","type":"firebot:chat"}]},"id":"3e67acb0-102c-11ec-8d42-7f468b80eb61","type":"firebot:randomeffect"},{"action":"Remove VIP","id":"548b2b50-0ebc-11ec-b4c7-874fb00803f4","type":"firebot:update-vip-role","username":"$customVariable[prevUser]"},{"id":"6295aea0-0ebc-11ec-b4c7-874fb00803f4","name":"prevUser","ttl":0,"type":"firebot:customvariable","variableData":"null"}]},"type":"firebot:conditional-effects","active":true}]},"label":"Moderator / Real VIP Exclusion"},{"conditionData":{"conditions":[{"comparisonType":"is","leftSideValue":"$customVariable[prevUser]","rightSideValue":"$user","type":"firebot:custom","value":null}],"mode":"exclusive"},"effectData":{"id":"92c48910-0e7c-11ec-b4c7-874fb00803f4","list":[{"dontRepeat":true,"effectList":{"id":"c550b910-102c-11ec-8d42-7f468b80eb61","list":[{"chatter":"Bot","id":"c731d520-102c-11ec-8d42-7f468b80eb61","message":"$user is still on the run with the diamond!","type":"firebot:chat"},{"chatter":"Bot","id":"cf72dea0-102c-11ec-8d42-7f468b80eb61","message":"$user has gone off the grid with the diamond!","type":"firebot:chat"},{"chatter":"Bot","id":"d8ed7990-102c-11ec-8d42-7f468b80eb61","message":"Where in the world is Carmen $user?  The diamond was last seen with them!","type":"firebot:chat"}]},"id":"c54df9f0-102c-11ec-8d42-7f468b80eb61","type":"firebot:randomeffect","active":true}]},"label":"User redeeming is the previous user"},{"conditionData":{"conditions":[{"comparisonType":"is","leftSideValue":"$customVariable[prevUser]","rightSideValue":"null","type":"firebot:custom","value":null}],"mode":"exclusive"},"effectData":{"id":"33b8e030-0ebb-11ec-b4c7-874fb00803f4","list":[{"effectList":{"id":"b44cc150-102b-11ec-8d42-7f468b80eb61","list":[{"chatter":"Bot","id":"b7799740-102b-11ec-8d42-7f468b80eb61","message":"$user deftly sneaks into the vault, and steals the diamond without anyone knowing!","type":"firebot:chat"},{"chatter":"Bot","id":"be4a20d0-102b-11ec-8d42-7f468b80eb61","message":"??? Where did the diamond go?  After some looking around it seems that $user has made off with it!  Get them!","type":"firebot:chat"},{"chatter":"Bot","id":"e59bd2d0-102d-11ec-8d42-7f468b80eb61","message":"$user dug to Y level 15 and was able to find the diamond there!","type":"firebot:chat"},{"chatter":"Bot","id":"c9ab7d20-102b-11ec-8d42-7f468b80eb61","message":"$user channels their inner Ethan Hunt and deftly lifts the diamond.","type":"firebot:chat"},{"chatter":"Bot","id":"cf68c1f0-102b-11ec-8d42-7f468b80eb61","message":"**codec noise** Solid $user: Colonel, I have retreived Metal Gea--I mean the diamond.","type":"firebot:chat"},{"chatter":"Bot","id":"d3faa620-102b-11ec-8d42-7f468b80eb61","message":"$user bribes a guard to look the other way. $user stole the diamond!","type":"firebot:chat"},{"chatter":"Bot","id":"d9f40990-102b-11ec-8d42-7f468b80eb61","message":"$user: Wanna become famous?  Steal diamonds at  $user dot com","type":"firebot:chat"}]},"id":"b44a5050-102b-11ec-8d42-7f468b80eb61","type":"firebot:randomeffect","active":true},{"action":"Add VIP","id":"f3388c61-0ebd-11ec-b4c7-874fb00803f4","type":"firebot:update-vip-role","username":"$user","active":true},{"id":"f3388c62-0ebd-11ec-b4c7-874fb00803f4","name":"prevUser","ttl":0,"type":"firebot:customvariable","variableData":"$user","active":true}]},"label":"Diamond is in vault"}],"otherwiseEffectData":{"id":"cd6b28f0-0dd5-11ec-8402-07dbdeaf1b7d","list":[{"dontRepeat":false,"effectList":{"id":"9220eec0-102c-11ec-8d42-7f468b80eb61","list":[{"chatter":"Bot","id":"944be510-102c-11ec-8d42-7f468b80eb61","message":"$user rolls a nat 20 and swipes the diamond from $customVariable[prevUser]!","type":"firebot:chat","active":true},{"chatter":"Bot","id":"9a6b4710-102c-11ec-8d42-7f468b80eb61","message":"$customVariable[prevUser] is distracted and didn't notice $user taking the diamond from them!","type":"firebot:chat","active":true},{"chatter":"Bot","id":"9fa13370-102c-11ec-8d42-7f468b80eb61","message":"$user doesn't believe in Honor Among Thieves and yoinks the diamond from $customVariable[prevUser].","type":"firebot:chat","active":true},{"chatter":"Bot","id":"a280d3c0-102c-11ec-8d42-7f468b80eb61","message":"What is the diamond doing here? Did $customVariable[prevUser] drop it? Whelp, whatever the reason, $user pockets it and continues on their way.","type":"firebot:chat","active":true}]},"id":"921de180-102c-11ec-8d42-7f468b80eb61","type":"firebot:randomeffect","active":true},{"action":"Remove VIP","id":"975afe30-0dd9-11ec-965c-df80b54e777d","type":"firebot:update-vip-role","username":"$customVariable[prevUser]","active":true},{"action":"Add VIP","id":"a2511590-0dd9-11ec-965c-df80b54e777d","type":"firebot:update-vip-role","username":"$user","active":true},{"id":"ab390d70-0dd9-11ec-965c-df80b54e777d","name":"prevUser","ttl":0,"type":"firebot:customvariable","variableData":"$user","active":true}]},"otherwiseLabel":"User is not VIP/mod and other user has diamond","type":"firebot:conditional-effects","active":true}],"id":"c09c6d00-7c8e-11ec-b4a5-a918f59f6eb6"},"args":[],"sortTags":[],"id":"c09c1ee0-7c8e-11ec-b4a5-a918f59f6eb6"}],"timers":[],"viewerRoles":[{"name":"Diamond Exceptions","viewers":["airbornest0rm","cheeziedust","tamarins","jeswearspants","garvakarius","ironyskye"],"id":"8ffe7550-7c87-11ec-b4a5-a918f59f6eb6"}]},"requireCurrency":false,"importQuestions":[]}